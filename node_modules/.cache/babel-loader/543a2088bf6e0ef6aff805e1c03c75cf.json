{"ast":null,"code":"var _jsxFileName = \"/Users/bimals/Desktop/module-4-recap/m4-d7hooks/src/components/CommentArea.jsx\";\nimport { Component } from 'react';\nimport { Spinner, Alert } from 'react-bootstrap';\nimport AddComment from './AddComment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass CommentArea extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      comment: [],\n      isLoading: false,\n      isError: false\n    };\n\n    this.componentDidUpdate = async prevProps => {\n      if (prevProps.asin !== this.props.asin) {\n        this.setState({\n          isLoading: true\n        });\n\n        try {\n          const response = await fetch(\" https://striveschool-api.herokuapp.com/api/comments/\" + this.props.asin, {\n            headers: {\n              \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGRjNzMzNGIzNTgxNzAwMTVjMjI3NWIiLCJpYXQiOjE2Mjk5NzkzNzUsImV4cCI6MTYzMTE4ODk3NX0.8oPWQmDkjhZppxF1O_JjqR5vYAfRMCIn_4zUs7p9_OM\"\n            }\n          });\n\n          if (response.ok) {\n            const data = await response.json();\n            console.log(data);\n            this.setState({\n              comment: data,\n              isLoading: false,\n              isError: false\n            });\n          }\n        } catch (err) {\n          this.setState({\n            isLoading: false,\n            isError: true\n          });\n        }\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this), this.state.isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-2\",\n        children: /*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\",\n          variant: \"success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), this.state.isError && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"warning\",\n        children: [\"Cannot load the data: \", this.state.isError]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), this.state.comment.map(c => {\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            border: '1px solid black'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: c.comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"Rating : \", c.rate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)]\n        }, c._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 27\n        }, this);\n      }), this.props.asin && /*#__PURE__*/_jsxDEV(AddComment, {\n        asin: this.props.asin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default CommentArea;","map":{"version":3,"sources":["/Users/bimals/Desktop/module-4-recap/m4-d7hooks/src/components/CommentArea.jsx"],"names":["Component","Spinner","Alert","AddComment","CommentArea","state","comment","isLoading","isError","componentDidUpdate","prevProps","asin","props","setState","response","fetch","headers","ok","data","json","console","log","err","render","map","c","border","rate","_id"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAAQC,OAAR,EAAgBC,KAAhB,QAA4B,iBAA5B;AAEA,OAAOC,UAAP,MAAuB,cAAvB;;;;AAIA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAmC;AAAA;AAAA;AAAA,SAC/BK,KAD+B,GACzB;AACFC,MAAAA,OAAO,EAAC,EADN;AAEFC,MAAAA,SAAS,EAAE,KAFT;AAGFC,MAAAA,OAAO,EAAE;AAHP,KADyB;;AAAA,SAO/BC,kBAP+B,GAOV,MAAOC,SAAP,IAAoB;AACrC,UAAGA,SAAS,CAACC,IAAV,KAAkB,KAAKC,KAAL,CAAWD,IAAhC,EAAqC;AACrC,aAAKE,QAAL,CAAc;AACVN,UAAAA,SAAS,EAAE;AADD,SAAd;;AAGA,YAAI;AACA,gBAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAC,0DAA0D,KAAKH,KAAL,CAAWD,IAAtE,EAA2E;AACnGK,YAAAA,OAAO,EAAC;AACJ,+BAAiB;AADb;AAD2F,WAA3E,CAA5B;;AAMA,cAAGF,QAAQ,CAACG,EAAZ,EAAe;AACX,kBAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,iBAAKL,QAAL,CAAc;AACVP,cAAAA,OAAO,EAACY,IADE;AAEVX,cAAAA,SAAS,EAAE,KAFD;AAGVC,cAAAA,OAAO,EAAE;AAHC,aAAd;AAKH;AACJ,SAhBD,CAgBE,OAAOc,GAAP,EAAY;AAEV,eAAKT,QAAL,CAAc;AACVN,YAAAA,SAAS,EAAE,KADD;AAEVC,YAAAA,OAAO,EAAE;AAFC,WAAd;AAKH;AACJ;AACA,KArC8B;AAAA;;AAsC/Be,EAAAA,MAAM,GAAE;AAEJ,wBACI;AAAA,8BAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA,EAGC,KAAKlB,KAAL,CAAWE,SAAX,iBACO;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,+BACI,QAAC,OAAD;AAAS,UAAA,SAAS,EAAC,QAAnB;AAA4B,UAAA,OAAO,EAAC;AAApC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAJR,EAQE,KAAKF,KAAL,CAAWG,OAAX,iBACE,QAAC,KAAD;AAAO,QAAA,OAAO,EAAC,SAAf;AAAA,6CAC2B,KAAKH,KAAL,CAAWG,OADtC;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ,EAcI,KAAKH,KAAL,CAAWC,OAAX,CAAmBkB,GAAnB,CAAuBC,CAAC,IAAG;AACxB,4BAAO;AAAgB,UAAA,KAAK,EAAE;AAACC,YAAAA,MAAM,EAAC;AAAR,WAAvB;AAAA,kCACF;AAAA,sBAAKD,CAAC,CAACnB;AAAP;AAAA;AAAA;AAAA;AAAA,kBADE,eAEF;AAAA,oCAAcmB,CAAC,CAACE,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFE;AAAA,WAASF,CAAC,CAACG,GAAX;AAAA;AAAA;AAAA;AAAA,gBAAP;AAIF,OALD,CAdJ,EAyBC,KAAKhB,KAAL,CAAWD,IAAX,iBAAmB,QAAC,UAAD;AAAY,QAAA,IAAI,EAAE,KAAKC,KAAL,CAAWD;AAA7B;AAAA;AAAA;AAAA;AAAA,cAzBpB;AAAA,oBADJ;AA8BH;;AAtE8B;;AAwEnC,eAAeP,WAAf","sourcesContent":["import { Component } from 'react'\nimport {Spinner,Alert} from 'react-bootstrap'\n\nimport AddComment from './AddComment'\n\n\n\nclass CommentArea extends Component{\n    state={\n        comment:[],\n        isLoading: false,\n        isError: false\n    }\n\n    componentDidUpdate = async (prevProps) =>{\n        if(prevProps.asin !==this.props.asin){\n        this.setState({\n            isLoading: true\n          })\n        try {\n            const response = await fetch(\" https://striveschool-api.herokuapp.com/api/comments/\" + this.props.asin,{\n                headers:{\n                    \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGRjNzMzNGIzNTgxNzAwMTVjMjI3NWIiLCJpYXQiOjE2Mjk5NzkzNzUsImV4cCI6MTYzMTE4ODk3NX0.8oPWQmDkjhZppxF1O_JjqR5vYAfRMCIn_4zUs7p9_OM\"\n    \n                }\n            })\n            if(response.ok){\n                const data = await response.json()\n                console.log(data)\n                this.setState({\n                    comment:data,\n                    isLoading: false,\n                    isError: false\n                })\n            }\n        } catch (err) {\n            \n            this.setState({\n                isLoading: false,\n                isError: true\n              })\n            \n        }\n    }\n    }\n    render(){\n       \n        return(\n            <>\n           \n            <h2>Comments</h2>\n            {this.state.isLoading && (\n                    <div className=\"ml-2\">\n                        <Spinner animation=\"border\" variant=\"success\" />\n                    </div>\n                    )}\n             {this.state.isError &&\n                <Alert variant=\"warning\">\n                    Cannot load the data: {this.state.isError}\n                </Alert>\n                }\n            {\n                this.state.comment.map(c =>{\n                   return <ul key={c._id} style={{border:'1px solid black'}}>\n                        <li>{c.comment}</li>\n                        <li>Rating : {c.rate}</li>\n                    </ul>\n                }\n               \n\n                )\n            }\n             \n            {this.props.asin && <AddComment asin={this.props.asin}/>}\n   </>\n        )\n        \n    }\n}\nexport default CommentArea"]},"metadata":{},"sourceType":"module"}